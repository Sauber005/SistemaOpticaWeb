BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "django_content_type" ("id" SERIAL PRIMARY KEY, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL);
CREATE TABLE IF NOT EXISTS "auth_permission" ("id" SERIAL PRIMARY KEY, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL);
CREATE TABLE IF NOT EXISTS "auth_group" ("id" SERIAL PRIMARY KEY, "name" varchar(150) NOT NULL UNIQUE);
CREATE TABLE IF NOT EXISTS "auth_user" ("id" SERIAL PRIMARY KEY, "password" varchar(128) NOT NULL, "last_login" timestamp NULL, "is_superuser" boolean NOT NULL, "username" varchar(150) NOT NULL UNIQUE, "last_name" varchar(150) NOT NULL, "email" varchar(254) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp NOT NULL, "first_name" varchar(150) NOT NULL);
CREATE TABLE IF NOT EXISTS "django_migrations" ("id" SERIAL PRIMARY KEY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp NOT NULL);
INSERT INTO django_migrations VALUES(1,'contenttypes','0001_initial','2025-06-20 02:32:17.405462');
INSERT INTO django_migrations VALUES(2,'auth','0001_initial','2025-06-20 02:32:17.424412');
INSERT INTO django_migrations VALUES(3,'admin','0001_initial','2025-06-20 02:32:17.438374');
INSERT INTO django_migrations VALUES(4,'admin','0002_logentry_remove_auto_add','2025-06-20 02:32:17.450368');
INSERT INTO django_migrations VALUES(5,'admin','0003_logentry_add_action_flag_choices','2025-06-20 02:32:17.458349');
INSERT INTO django_migrations VALUES(6,'contenttypes','0002_remove_content_type_name','2025-06-20 02:32:17.475304');
INSERT INTO django_migrations VALUES(7,'auth','0002_alter_permission_name_max_length','2025-06-20 02:32:17.486277');
INSERT INTO django_migrations VALUES(8,'auth','0003_alter_user_email_max_length','2025-06-20 02:32:17.497218');
INSERT INTO django_migrations VALUES(9,'auth','0004_alter_user_username_opts','2025-06-20 02:32:17.506223');
INSERT INTO django_migrations VALUES(10,'auth','0005_alter_user_last_login_null','2025-06-20 02:32:17.517187');
INSERT INTO django_migrations VALUES(11,'auth','0006_require_contenttypes_0002','2025-06-20 02:32:17.522180');
INSERT INTO django_migrations VALUES(12,'auth','0007_alter_validators_add_error_messages','2025-06-20 02:32:17.531127');
INSERT INTO django_migrations VALUES(13,'auth','0008_alter_user_username_max_length','2025-06-20 02:32:17.542127');
INSERT INTO django_migrations VALUES(14,'auth','0009_alter_user_last_name_max_length','2025-06-20 02:32:17.563041');
INSERT INTO django_migrations VALUES(15,'auth','0010_alter_group_name_max_length','2025-06-20 02:32:17.575009');
INSERT INTO django_migrations VALUES(16,'auth','0011_update_proxy_permissions','2025-06-20 02:32:17.584013');
INSERT INTO django_migrations VALUES(17,'auth','0012_alter_user_first_name_max_length','2025-06-20 02:32:17.594955');
INSERT INTO django_migrations VALUES(18,'clientes','0001_initial','2025-06-20 02:32:17.600939');
INSERT INTO django_migrations VALUES(19,'clientes','0002_alter_cliente_options_remove_cliente_direccion_and_more','2025-06-20 02:32:17.616897');
INSERT INTO django_migrations VALUES(20,'clientes','0003_cliente_direccion_cliente_observaciones','2025-06-20 02:32:17.623880');
INSERT INTO django_migrations VALUES(21,'clientes','0004_cliente_telefono2_alter_cliente_observaciones_and_more','2025-06-20 02:32:17.632883');
INSERT INTO django_migrations VALUES(22,'clientes','0005_alter_cliente_telefono','2025-06-20 02:32:17.639836');
INSERT INTO django_migrations VALUES(23,'prescripciones','0001_initial','2025-06-20 02:32:17.654797');
INSERT INTO django_migrations VALUES(24,'productos','0001_initial','2025-06-20 02:32:17.661777');
INSERT INTO django_migrations VALUES(25,'productos','0002_producto_activo_producto_ultima_actualizacion','2025-06-20 02:32:17.671751');
INSERT INTO django_migrations VALUES(26,'sessions','0001_initial','2025-06-20 02:32:17.683764');
INSERT INTO django_migrations VALUES(27,'ventas','0001_initial','2025-06-20 02:32:17.702668');
INSERT INTO django_migrations VALUES(28,'ventas','0002_alter_detalleventa_options_alter_venta_options_and_more','2025-06-20 02:32:17.781457');
INSERT INTO django_migrations VALUES(29,'ventas','0003_alter_detalleventa_options_alter_venta_options_and_more','2025-06-20 02:32:17.815366');
CREATE TABLE IF NOT EXISTS "auth_group_permissions" ("id" SERIAL PRIMARY KEY, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "auth_user_groups" ("id" SERIAL PRIMARY KEY, "user_id" integer NOT NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "auth_user_user_permissions" ("id" SERIAL PRIMARY KEY, "user_id" integer NOT NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "django_admin_log" ("id" SERIAL PRIMARY KEY, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" integer NOT NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" timestamp NOT NULL);
INSERT INTO django_content_type VALUES(1,'admin','logentry');
INSERT INTO django_content_type VALUES(2,'auth','permission');
INSERT INTO django_content_type VALUES(3,'auth','group');
INSERT INTO django_content_type VALUES(4,'auth','user');
INSERT INTO django_content_type VALUES(5,'contenttypes','contenttype');
INSERT INTO django_content_type VALUES(6,'sessions','session');
INSERT INTO django_content_type VALUES(7,'clientes','cliente');
INSERT INTO django_content_type VALUES(8,'productos','producto');
INSERT INTO django_content_type VALUES(9,'prescripciones','prescripcion');
INSERT INTO django_content_type VALUES(10,'ventas','venta');
INSERT INTO django_content_type VALUES(11,'ventas','detalleventa');
INSERT INTO auth_permission VALUES(1,1,'add_logentry','Can add log entry');
INSERT INTO auth_permission VALUES(2,1,'change_logentry','Can change log entry');
INSERT INTO auth_permission VALUES(3,1,'delete_logentry','Can delete log entry');
INSERT INTO auth_permission VALUES(4,1,'view_logentry','Can view log entry');
INSERT INTO auth_permission VALUES(5,2,'add_permission','Can add permission');
INSERT INTO auth_permission VALUES(6,2,'change_permission','Can change permission');
INSERT INTO auth_permission VALUES(7,2,'delete_permission','Can delete permission');
INSERT INTO auth_permission VALUES(8,2,'view_permission','Can view permission');
INSERT INTO auth_permission VALUES(9,3,'add_group','Can add group');
INSERT INTO auth_permission VALUES(10,3,'change_group','Can change group');
INSERT INTO auth_permission VALUES(11,3,'delete_group','Can delete group');
INSERT INTO auth_permission VALUES(12,3,'view_group','Can view group');
INSERT INTO auth_permission VALUES(13,4,'add_user','Can add user');
INSERT INTO auth_permission VALUES(14,4,'change_user','Can change user');
INSERT INTO auth_permission VALUES(15,4,'delete_user','Can delete user');
INSERT INTO auth_permission VALUES(16,4,'view_user','Can view user');
INSERT INTO auth_permission VALUES(17,5,'add_contenttype','Can add content type');
INSERT INTO auth_permission VALUES(18,5,'change_contenttype','Can change content type');
INSERT INTO auth_permission VALUES(19,5,'delete_contenttype','Can delete content type');
INSERT INTO auth_permission VALUES(20,5,'view_contenttype','Can view content type');
INSERT INTO auth_permission VALUES(21,6,'add_session','Can add session');
INSERT INTO auth_permission VALUES(22,6,'change_session','Can change session');
INSERT INTO auth_permission VALUES(23,6,'delete_session','Can delete session');
INSERT INTO auth_permission VALUES(24,6,'view_session','Can view session');
INSERT INTO auth_permission VALUES(25,7,'add_cliente','Can add Cliente');
INSERT INTO auth_permission VALUES(26,7,'change_cliente','Can change Cliente');
INSERT INTO auth_permission VALUES(27,7,'delete_cliente','Can delete Cliente');
INSERT INTO auth_permission VALUES(28,7,'view_cliente','Can view Cliente');
INSERT INTO auth_permission VALUES(29,8,'add_producto','Can add Producto');
INSERT INTO auth_permission VALUES(30,8,'change_producto','Can change Producto');
INSERT INTO auth_permission VALUES(31,8,'delete_producto','Can delete Producto');
INSERT INTO auth_permission VALUES(32,8,'view_producto','Can view Producto');
INSERT INTO auth_permission VALUES(33,9,'add_prescripcion','Can add Prescripci贸n');
INSERT INTO auth_permission VALUES(34,9,'change_prescripcion','Can change Prescripci贸n');
INSERT INTO auth_permission VALUES(35,9,'delete_prescripcion','Can delete Prescripci贸n');
INSERT INTO auth_permission VALUES(36,9,'view_prescripcion','Can view Prescripci贸n');
INSERT INTO auth_permission VALUES(37,10,'add_venta','Can add Venta');
INSERT INTO auth_permission VALUES(38,10,'change_venta','Can change Venta');
INSERT INTO auth_permission VALUES(39,10,'delete_venta','Can delete Venta');
INSERT INTO auth_permission VALUES(40,10,'view_venta','Can view Venta');
INSERT INTO auth_permission VALUES(41,11,'add_detalleventa','Can add Detalle de Venta');
INSERT INTO auth_permission VALUES(42,11,'change_detalleventa','Can change Detalle de Venta');
INSERT INTO auth_permission VALUES(43,11,'delete_detalleventa','Can delete Detalle de Venta');
INSERT INTO auth_permission VALUES(44,11,'view_detalleventa','Can view Detalle de Venta');
INSERT INTO auth_user VALUES(1,'pbkdf2_sha256$1000000$XAXhHHnsB96pjEKHULmqNO$OnUU+H1HGpeFblbaT8UCdx4j02hAUqsEfAFciDvRZRo=','2025-06-20 23:14:02.802320',TRUE,'Salv','','fehsalv@gmail.com',TRUE,TRUE,'2025-06-20 02:32:47.782342','');
CREATE TABLE IF NOT EXISTS "clientes_cliente" ("id" SERIAL PRIMARY KEY, "nombre" varchar(100) NOT NULL, "apellido_paterno" varchar(100) NOT NULL, "apellido_materno" varchar(100) NULL, "email" varchar(254) NULL, "fecha_nacimiento" date NULL, "direccion" text NULL, "observaciones" text NULL, "telefono2" varchar(20) NULL, "telefono" varchar(20) NOT NULL);
INSERT INTO clientes_cliente VALUES(1,'Rod','Cast',NULL,NULL,'1980-02-17','','',NULL,'6851651651');
INSERT INTO clientes_cliente VALUES(2,'Jose Fernando','Olivares',NULL,NULL,'1968-01-01','','',NULL,'6862366930');
INSERT INTO clientes_cliente VALUES(3,'Diego','Cabuto',NULL,NULL,'2008-01-01','','',NULL,'6861054469');
CREATE TABLE IF NOT EXISTS "prescripciones_prescripcion" ("id" SERIAL PRIMARY KEY, "fecha_prescripcion" date NOT NULL, "esfera_od" decimal NULL, "cilindro_od" decimal NULL, "eje_od" integer NULL, "adicion_od" decimal NULL, "prisma_od" varchar(50) NULL, "base_od" varchar(50) NULL, "esfera_oi" decimal NULL, "cilindro_oi" decimal NULL, "eje_oi" integer NULL, "adicion_oi" decimal NULL, "prisma_oi" varchar(50) NULL, "base_oi" varchar(50) NULL, "dnp_od" integer NULL CHECK ("dnp_od" >= 0), "dnp_oi" integer NULL CHECK ("dnp_oi" >= 0), "observaciones" text NULL, "cliente_id" bigint NOT NULL REFERENCES "clientes_cliente" ("id") DEFERRABLE INITIALLY DEFERRED);
INSERT INTO prescripciones_prescripcion VALUES(1,'2025-06-20',-3,-1,90,1.5,NULL,NULL,-2,-1.25,90,1.5,NULL,NULL,32,31,'',2);
INSERT INTO prescripciones_prescripcion VALUES(3,'2025-06-20',1,-1,90,NULL,NULL,NULL,1,-1,90,NULL,NULL,NULL,31,31,'',1);
CREATE TABLE IF NOT EXISTS "productos_producto" ("id" SERIAL PRIMARY KEY, "nombre" varchar(200) NOT NULL, "marca" varchar(100) NULL, "tipo" varchar(50) NOT NULL, "codigo_barras" varchar(50) NULL UNIQUE, "descripcion" text NULL, "precio_compra" decimal NULL, "precio_venta" decimal NOT NULL, "stock" integer NOT NULL, "fecha_ingreso" timestamp NOT NULL, "activo" boolean NOT NULL, "ultima_actualizacion" timestamp NOT NULL);
INSERT INTO productos_producto VALUES(1,'Acuvue Oasys -2.00','Acuvue','lente_contacto',NULL,'',425,800,5,'2025-06-20 21:38:41.560548',TRUE,'2025-06-20 21:44:09.918774');
INSERT INTO productos_producto VALUES(2,'Acuvue Oasys -1.00','Acuvue','lente_contacto',NULL,'',425,800,5,'2025-06-20 21:42:18.256649',TRUE,'2025-06-20 21:42:18.256649');
INSERT INTO productos_producto VALUES(3,'Progresivo HD Bco.','Shamir','lente_graduado',NULL,'',735,1870,0,'2025-06-20 21:46:01.262111',TRUE,'2025-06-20 21:46:01.262111');
INSERT INTO productos_producto VALUES(4,'Progresivo HD Ar','Acuvue','lente_contacto',NULL,'',1250,2700,0,'2025-06-20 21:54:26.196890',TRUE,'2025-06-20 21:54:26.196890');
CREATE TABLE IF NOT EXISTS "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp NOT NULL);
INSERT INTO django_session VALUES('0vabcx9log5ydps3p384702x5qaesvhq','.eJxVjEEOwiAQRe_C2pDOAEVcuvcMhGGmUjU0Ke3KeHdD0oVu_3vvv1VM-1bi3mSNM6uLAnX63Sjlp9QO-JHqfdF5qds6k-6KPmjTt4XldT3cv4OSWum1sITRQ5jw7CwYFAoGbUYSAkYWBCFjRoYgELI3GdyQcLDiJ-u8UZ8v5yU3mg:1uSRZ5:kq6XxuLHWMzercEzCf4PSpzgGF_pgrXoYaxmzuM8ZBc','2025-07-04 02:33:15.269517');
INSERT INTO django_session VALUES('h98x48z5amlgcl8g4lswwf3n5fe4014v','.eJxVjEEOwiAQRe_C2pDOAEVcuvcMhGGmUjU0Ke3KeHdD0oVu_3vvv1VM-1bi3mSNM6uLAnX63Sjlp9QO-JHqfdF5qds6k-6KPmjTt4XldT3cv4OSWum1sITRQ5jw7CwYFAoGbUYSAkYWBCFjRoYgELI3GdyQcLDiJ-u8UZ8v5yU3mg:1uSkvq:t4sLWbogDxeaJ--SpWHpQ1qkxxXq3HXfZl7ohU3fqA4','2025-07-04 23:14:02.764445');
INSERT INTO django_session VALUES('t8urmeitevta2qpcxl6tbx68jd2g65s1','.eJxVjEEOwiAQRe_C2pDOAEVcuvcMhGGmUjU0Ke3KeHdD0oVu_3vvv1VM-1bi3mSNM6uLAnX63Sjlp9QO-JHqfdF5qds6k-6KPmjTt4XldT3cv4OSWum1sITRQ5jw7CwYFAoGbUYSAkYWBCFjRoYgELI3GdyQcLDiJ-u8UZ8v5yU3mg:1uSkvq:t4sLWbogDxeaJ--SpWHpQ1qkxxXq3HXfZl7ohU3fqA4','2025-07-04 23:14:02.808304');
CREATE TABLE IF NOT EXISTS "ventas_venta" ("id" SERIAL PRIMARY KEY, "fecha_venta" timestamp NOT NULL, "total_venta" decimal NOT NULL, "observaciones" text NULL, "cliente_id" bigint NULL REFERENCES "clientes_cliente" ("id") DEFERRABLE INITIALLY DEFERRED, "cambio" decimal NOT NULL, "pagado" decimal NOT NULL, "metodo_pago" varchar(50) NULL);
INSERT INTO ventas_venta VALUES(1,'2025-06-20 21:52:09.193013',800,'',1,0,100,'Efectivo');
INSERT INTO ventas_venta VALUES(2,'2025-06-20 22:13:47.677638',1600,'',1,0,100,'Efectivo');
INSERT INTO ventas_venta VALUES(3,'2025-06-20 23:26:27.360931',800,'',1,0,800,'Efectivo');
CREATE TABLE IF NOT EXISTS "ventas_detalleventa" ("id" SERIAL PRIMARY KEY, "precio_unitario" decimal NOT NULL, "producto_id" bigint NULL REFERENCES "productos_producto" ("id") DEFERRABLE INITIALLY DEFERRED, "venta_id" bigint NOT NULL REFERENCES "ventas_venta" ("id") DEFERRABLE INITIALLY DEFERRED, "_subtotal_calculated" decimal NOT NULL, "cantidad" integer NOT NULL CHECK ("cantidad" >= 0));
INSERT INTO ventas_detalleventa VALUES(1,800,2,1,800,1);
INSERT INTO ventas_detalleventa VALUES(2,800,2,2,1600,2);
INSERT INTO ventas_detalleventa VALUES(3,800,2,3,800,1);
COMMIT;